{"version":3,"file":"main-BaX-ncsm.js","sources":["../../src/js/core/toast.js","../../src/js/core/api.js","../../src/partials/exercise-card.html?raw","../../src/partials/category-card.html?raw","../../src/partials/favorites-empty.html?raw","../../src/partials/pagination.html?raw","../../src/js/ui/renderer.js","../../src/js/ui/pagination.js","../../src/js/ui/modal.js","../../src/js/services/favorites.js","../../src/js/services/quote.js","../../src/js/utils/responsive.js","../../src/js/pages/home.js","../../src/js/pages/favorites.js","../../src/js/ui/nav.js","../../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nconst defaultOptions = {\r\n  position: 'topRight',\r\n  timeout: 5000,\r\n};\r\n\r\nexport const toast = {\r\n  success(message) {\r\n    iziToast.success({\r\n      ...defaultOptions,\r\n      title: 'Success',\r\n      message,\r\n    });\r\n  },\r\n\r\n  error(message) {\r\n    iziToast.error({\r\n      ...defaultOptions,\r\n      title: 'Error',\r\n      message,\r\n    });\r\n  },\r\n\r\n  warning(message) {\r\n    iziToast.warning({\r\n      ...defaultOptions,\r\n      title: 'Warning',\r\n      message,\r\n    });\r\n  },\r\n\r\n  info(message) {\r\n    iziToast.info({\r\n      ...defaultOptions,\r\n      title: 'Info',\r\n      message,\r\n    });\r\n  },\r\n};\r\n","import axios from 'axios';\r\nimport { toast } from './toast.js';\r\n\r\nconst BASE_URL = 'https://your-energy.b.goit.study/api';\r\n\r\nconst api = axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n\r\nconst errorMessages = {\r\n  400: 'Bad request. Please check your input.',\r\n  401: 'Unauthorized. Please log in.',\r\n  404: 'Resource not found.',\r\n  409: 'This email has already been used.',\r\n  500: 'Server error. Please try again later.',\r\n  default: 'Something went wrong. Please try again.',\r\n};\r\n\r\napi.interceptors.response.use(\r\n  response => response,\r\n  error => {\r\n    if (!error.response) {\r\n      const isOffline = !navigator.onLine;\r\n      const message = isOffline\r\n        ? 'No internet connection. Please check your network.'\r\n        : 'Unable to connect to server. Please try again later.';\r\n      toast.error(message);\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    const status = error.response.status;\r\n    const serverMessage = error.response.data?.message;\r\n    const message = serverMessage || errorMessages[status] || errorMessages.default;\r\n\r\n    toast.error(message);\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const getQuote = async () => {\r\n  const { data } = await api.get('/quote');\r\n  return data;\r\n};\r\n\r\nexport const getFilters = async ({ filter, page = 1, limit = 12 }) => {\r\n  const { data } = await api.get('/filters', {\r\n    params: { filter, page, limit },\r\n  });\r\n  return data;\r\n};\r\n\r\nexport const getExercises = async ({\r\n  bodypart,\r\n  muscles,\r\n  equipment,\r\n  keyword,\r\n  page = 1,\r\n  limit = 10,\r\n}) => {\r\n  const params = { page, limit };\r\n  if (bodypart) params.bodypart = bodypart;\r\n  if (muscles) params.muscles = muscles;\r\n  if (equipment) params.equipment = equipment;\r\n  if (keyword) params.keyword = keyword;\r\n\r\n  const { data } = await api.get('/exercises', { params });\r\n  return data;\r\n};\r\n\r\nexport const getExerciseById = async id => {\r\n  const { data } = await api.get(`/exercises/${id}`);\r\n  return data;\r\n};\r\n\r\nexport const updateRating = async (id, rating, email, review = '') => {\r\n  const body = { rate: rating, email };\r\n  if (review) {\r\n    body.review = review;\r\n  }\r\n  const { data } = await api.patch(`/exercises/${id}/rating`, body);\r\n  return data;\r\n};\r\n\r\nexport const subscribe = async email => {\r\n  const { data } = await api.post('/subscription', { email });\r\n  return data;\r\n};\r\n","export default \"<li class=\\\"exercise-card {{cardClass}}\\\" data-id=\\\"{{id}}\\\">\\r\\n  <div class=\\\"exercise-card__header\\\">\\r\\n    <div class=\\\"exercise-card__left\\\">\\r\\n      <span class=\\\"exercise-card__badge\\\">WORKOUT</span>\\r\\n      <span class=\\\"exercise-card__rating\\\" aria-label=\\\"Rating: {{ratingFormatted}} out of 5\\\">\\r\\n        {{ratingFormatted}}\\r\\n        <svg width=\\\"18\\\" height=\\\"18\\\" class=\\\"exercise-card__rating-star\\\" aria-hidden=\\\"true\\\">\\r\\n          <use href=\\\"/img/sprite.svg#icon-star\\\"></use>\\r\\n        </svg>\\r\\n      </span>\\r\\n      <button type=\\\"button\\\" class=\\\"exercise-card__delete-btn\\\" data-id=\\\"{{id}}\\\" aria-label=\\\"Remove {{name}} from favorites\\\">\\r\\n        <svg width=\\\"20\\\" height=\\\"20\\\" aria-hidden=\\\"true\\\">\\r\\n          <use href=\\\"/img/sprite.svg#icon-trash\\\"></use>\\r\\n        </svg>\\r\\n      </button>\\r\\n    </div>\\r\\n    <button class=\\\"exercise-card__start\\\" data-id=\\\"{{id}}\\\" aria-label=\\\"Start exercise {{name}}\\\">\\r\\n      Start\\r\\n      <svg width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\">\\r\\n        <use href=\\\"/img/sprite.svg#icon-arrow\\\"></use>\\r\\n      </svg>\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"exercise-card__body\\\">\\r\\n    <span class=\\\"exercise-card__icon\\\">\\r\\n      <svg width=\\\"16px\\\" height=\\\"16px\\\" aria-hidden=\\\"true\\\">\\r\\n        <use href=\\\"/img/sprite.svg#icon-quote\\\"></use>\\r\\n      </svg>\\r\\n    </span>\\r\\n    <h3 class=\\\"exercise-card__title\\\">{{name}}</h3>\\r\\n  </div>\\r\\n\\r\\n  <ul class=\\\"exercise-card__meta\\\">\\r\\n    <li class=\\\"exercise-card__meta-item\\\">\\r\\n      <span class=\\\"exercise-card__meta-label\\\">Burned calories:</span>\\r\\n      <span class=\\\"exercise-card__meta-value\\\">{{burnedCalories}} / {{time}} min</span>\\r\\n    </li>\\r\\n    <li class=\\\"exercise-card__meta-item\\\">\\r\\n      <span class=\\\"exercise-card__meta-label\\\">Body part:</span>\\r\\n      <span class=\\\"exercise-card__meta-value\\\">{{bodyPart}}</span>\\r\\n    </li>\\r\\n    <li class=\\\"exercise-card__meta-item\\\">\\r\\n      <span class=\\\"exercise-card__meta-label\\\">Target:</span>\\r\\n      <span class=\\\"exercise-card__meta-value\\\">{{target}}</span>\\r\\n    </li>\\r\\n  </ul>\\r\\n</li>\\r\\n\"","export default \"<li class=\\\"category-card\\\" data-filter=\\\"{{filter}}\\\" data-name=\\\"{{name}}\\\">\\r\\n  <img src=\\\"{{imgURL}}\\\" alt=\\\"\\\" class=\\\"category-card__bg\\\">\\r\\n  <div class=\\\"category-card__overlay\\\"></div>\\r\\n  <div class=\\\"category-card__content\\\">\\r\\n    <h3 class=\\\"category-card__name\\\">\\r\\n      <a href=\\\"#\\\" class=\\\"category-card__link\\\">{{name}}</a>\\r\\n    </h3>\\r\\n    <p class=\\\"category-card__filter\\\">{{filter}}</p>\\r\\n  </div>\\r\\n</li>\\r\\n\"","export default \"<div class=\\\"favorites__empty\\\">\\n  <p class=\\\"favorites__empty-text\\\">\\n    It appears that you haven't added any exercises to your favorites yet. To get started, you can\\n    add exercises that you like to your favorites for easier access in the future.\\n  </p>\\n</div>\\n\"","export default \"<ul class=\\\"pagination\\\">\\r\\n  <li>\\r\\n    <a href=\\\"#\\\" class=\\\"pagination__btn pagination__btn--first\\\" data-page=\\\"1\\\" aria-label=\\\"Go to first page\\\">\\r\\n      <svg width=\\\"13\\\" height=\\\"12\\\" class=\\\"pagination__icon pagination__icon--flip\\\" aria-hidden=\\\"true\\\">\\r\\n        <use href=\\\"/img/sprite.svg#icon-double-arrow-right\\\"></use>\\r\\n      </svg>\\r\\n    </a>\\r\\n  </li>\\r\\n  <li>\\r\\n    <a href=\\\"#\\\" class=\\\"pagination__btn pagination__btn--prev\\\" aria-label=\\\"Go to previous page\\\">\\r\\n      <svg width=\\\"20\\\" height=\\\"20\\\" class=\\\"pagination__icon pagination__icon--flip\\\" aria-hidden=\\\"true\\\">\\r\\n        <use href=\\\"/img/sprite.svg#icon-arrow-right\\\"></use>\\r\\n      </svg>\\r\\n    </a>\\r\\n  </li>\\r\\n  <li>\\r\\n    <ul class=\\\"pagination__numbers\\\"></ul>\\r\\n  </li>\\r\\n  <li>\\r\\n    <a href=\\\"#\\\" class=\\\"pagination__btn pagination__btn--next\\\" aria-label=\\\"Go to next page\\\">\\r\\n      <svg width=\\\"20\\\" height=\\\"20\\\" class=\\\"pagination__icon\\\" aria-hidden=\\\"true\\\">\\r\\n        <use href=\\\"/img/sprite.svg#icon-arrow-right\\\"></use>\\r\\n      </svg>\\r\\n    </a>\\r\\n  </li>\\r\\n  <li>\\r\\n    <a href=\\\"#\\\" class=\\\"pagination__btn pagination__btn--last\\\" aria-label=\\\"Go to last page\\\">\\r\\n      <svg width=\\\"13\\\" height=\\\"12\\\" class=\\\"pagination__icon\\\" aria-hidden=\\\"true\\\">\\r\\n        <use href=\\\"/img/sprite.svg#icon-double-arrow-right\\\"></use>\\r\\n      </svg>\\r\\n    </a>\\r\\n  </li>\\r\\n</ul>\\r\\n\"","import exerciseCardTemplate from '../../partials/exercise-card.html?raw';\r\nimport categoryCardTemplate from '../../partials/category-card.html?raw';\r\nimport favoritesEmptyTemplate from '../../partials/favorites-empty.html?raw';\r\nimport paginationTemplate from '../../partials/pagination.html?raw';\r\n\r\nconst templates = {\r\n  'exercise-card': exerciseCardTemplate,\r\n  'category-card': categoryCardTemplate,\r\n  'favorites-empty': favoritesEmptyTemplate,\r\n  pagination: paginationTemplate,\r\n};\r\n\r\nexport function loadTemplate(templateName) {\r\n  return templates[templateName] || '';\r\n}\r\n\r\nexport function replacePlaceholders(template, data) {\r\n  return template.replace(/\\{\\{(\\w+)\\}\\}/g, (_match, key) => {\r\n    return data[key] !== undefined ? data[key] : '';\r\n  });\r\n}\r\n\r\nexport function renderExercises(exercises, containerId) {\r\n  const container = document.getElementById(containerId);\r\n  if (!container) return;\r\n\r\n  if (exercises.length === 0) {\r\n    container.innerHTML = '<p class=\"no-results\">No exercises found. Try another filter.</p>';\r\n    return;\r\n  }\r\n\r\n  const template = loadTemplate('exercise-card');\r\n\r\n  const exercisesHtml = exercises\r\n    .map(exercise => {\r\n      return replacePlaceholders(template, {\r\n        id: exercise._id,\r\n        rating: exercise.rating || 0,\r\n        ratingFormatted: exercise.rating ? exercise.rating.toFixed(1) : '0.0',\r\n        cardClass: '',\r\n        name: exercise.name,\r\n        burnedCalories: exercise.burnedCalories || 0,\r\n        time: exercise.time || 0,\r\n        bodyPart: exercise.bodyPart || 'N/A',\r\n        target: exercise.target || 'N/A',\r\n      });\r\n    })\r\n    .join('');\r\n\r\n  container.className = 'exercises';\r\n  container.innerHTML = exercisesHtml;\r\n}\r\n\r\nexport function renderCategories(categories, containerId) {\r\n  const container = document.getElementById(containerId);\r\n  if (!container) return;\r\n\r\n  if (categories.length === 0) {\r\n    container.innerHTML = '<p class=\"no-results\">No categories found.</p>';\r\n    return;\r\n  }\r\n\r\n  const template = loadTemplate('category-card');\r\n\r\n  const categoriesHtml = categories\r\n    .map(cat => {\r\n      return replacePlaceholders(template, {\r\n        filter: cat.filter,\r\n        name: cat.name,\r\n        imgURL: cat.imgURL || '',\r\n      });\r\n    })\r\n    .join('');\r\n\r\n  container.className = 'categories';\r\n  container.innerHTML = categoriesHtml;\r\n}\r\n\r\n\r\nexport function renderFavoritesList(favorites, containerId) {\r\n  const container = document.getElementById(containerId);\r\n  if (!container) return;\r\n\r\n  if (favorites.length === 0) {\r\n    const emptyTemplate = loadTemplate('favorites-empty');\r\n    container.innerHTML = emptyTemplate;\r\n    return;\r\n  }\r\n\r\n  const template = loadTemplate('exercise-card');\r\n\r\n  const cardsHtml = favorites\r\n    .map(exercise => {\r\n      return replacePlaceholders(template, {\r\n        id: exercise._id,\r\n        name: exercise.name,\r\n        burnedCalories: exercise.burnedCalories || 0,\r\n        time: exercise.time || 0,\r\n        bodyPart: exercise.bodyPart || 'N/A',\r\n        target: exercise.target || 'N/A',\r\n        rating: exercise.rating || 0,\r\n        ratingFormatted: exercise.rating ? exercise.rating.toFixed(1) : '0.0',\r\n        cardClass: 'is-favorite',\r\n      });\r\n    })\r\n    .join('');\r\n\r\n  container.className = 'favorites__list';\r\n  container.innerHTML = cardsHtml;\r\n}\r\n","import { loadTemplate } from './renderer.js';\r\n\r\nexport async function renderPagination(currentPage, totalPages, containerId = 'pagination-container') {\r\n  const container = document.getElementById(containerId);\r\n  if (!container) return;\r\n\r\n  if (totalPages <= 1) {\r\n    container.innerHTML = '';\r\n    return;\r\n  }\r\n\r\n  if (!container.querySelector('.pagination')) {\r\n    const template = await loadTemplate('pagination');\r\n    container.innerHTML = template;\r\n  }\r\n\r\n  const firstLink = container.querySelector('.pagination__btn--first');\r\n  const prevLink = container.querySelector('.pagination__btn--prev');\r\n  const nextLink = container.querySelector('.pagination__btn--next');\r\n  const lastLink = container.querySelector('.pagination__btn--last');\r\n  const pagesContainer = container.querySelector('.pagination__numbers');\r\n\r\n  updateLinkState(firstLink, currentPage === 1, 1);\r\n  updateLinkState(prevLink, currentPage === 1, currentPage - 1);\r\n  updateLinkState(nextLink, currentPage === totalPages, currentPage + 1);\r\n  updateLinkState(lastLink, currentPage === totalPages, totalPages);\r\n\r\n  const pages = generatePageNumbers(currentPage, totalPages);\r\n\r\n  const pagesHtml = pages\r\n    .map(page => {\r\n      if (page === '...') {\r\n        return `<li aria-hidden=\"true\"><span class=\"pagination__dots\">...</span></li>`;\r\n      }\r\n      const isActive = page === currentPage;\r\n      if (isActive) {\r\n        return `<li><a href=\"#\" class=\"pagination__number pagination__number--current\" aria-current=\"page\">${page}</a></li>`;\r\n      }\r\n      return `<li><a href=\"#\" class=\"pagination__number\" data-page=\"${page}\">${page}</a></li>`;\r\n    })\r\n    .join('');\r\n\r\n  pagesContainer.innerHTML = pagesHtml;\r\n}\r\n\r\nfunction updateLinkState(link, isDisabled, page) {\r\n  if (isDisabled) {\r\n    link.classList.add('is-disabled');\r\n    link.setAttribute('aria-disabled', 'true');\r\n    link.removeAttribute('data-page');\r\n  } else {\r\n    link.classList.remove('is-disabled');\r\n    link.removeAttribute('aria-disabled');\r\n    link.dataset.page = page;\r\n  }\r\n}\r\n\r\nfunction generatePageNumbers(currentPage, totalPages) {\r\n  const pages = [];\r\n\r\n  if (totalPages <= 3) {\r\n    for (let i = 1; i <= totalPages; i++) {\r\n      pages.push(i);\r\n    }\r\n    return pages;\r\n  }\r\n\r\n  let start, end;\r\n\r\n  if (currentPage === 1) {\r\n    start = 1;\r\n    end = 3;\r\n  } else if (currentPage === totalPages) {\r\n    start = totalPages - 2;\r\n    end = totalPages;\r\n  } else {\r\n    start = currentPage - 1;\r\n    end = currentPage + 1;\r\n  }\r\n\r\n  if (start > 1) {\r\n    pages.push('...');\r\n  }\r\n\r\n  for (let i = start; i <= end; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  if (end < totalPages) {\r\n    pages.push('...');\r\n  }\r\n\r\n  return pages;\r\n}\r\n\r\nexport function setupPagination(onPageChange, containerId = 'pagination-container') {\r\n  const container = document.getElementById(containerId);\r\n  if (!container) return;\r\n\r\n  if (container.dataset.listenerAttached === 'true') return;\r\n  container.dataset.listenerAttached = 'true';\r\n\r\n  container.addEventListener('click', e => {\r\n    const link = e.target.closest('.pagination__number, .pagination__btn');\r\n\r\n    if (!link) return;\r\n    if (link.classList.contains('is-disabled') || link.classList.contains('pagination__number--current')) return;\r\n\r\n    e.preventDefault();\r\n\r\n    const newPage = Number(link.dataset.page);\r\n    if (newPage && !isNaN(newPage)) {\r\n      onPageChange(newPage);\r\n    }\r\n  });\r\n}\r\n","export function openModal(modalId) {\r\n  const modal = document.getElementById(modalId);\r\n  if (!modal) return;\r\n\r\n  modal.classList.add('is-open');\r\n  document.body.classList.add('modal-open');\r\n\r\n  if (modal.dataset.backdropListener !== 'true') {\r\n    const backdrop = modal.querySelector('.modal__backdrop');\r\n    if (backdrop) {\r\n      backdrop.addEventListener('click', () => {\r\n        closeModal(modalId);\r\n      });\r\n    }\r\n    modal.dataset.backdropListener = 'true';\r\n  }\r\n\r\n  // Handle Escape key\r\n  if (modal.dataset.escapeListener !== 'true') {\r\n    const handleEscape = e => {\r\n      if (e.key === 'Escape' && modal.classList.contains('is-open')) {\r\n        closeModal(modalId);\r\n      }\r\n    };\r\n    document.addEventListener('keydown', handleEscape);\r\n    modal.dataset.escapeListener = 'true';\r\n  }\r\n}\r\n\r\nexport function closeModal(modalId) {\r\n  const modal = document.getElementById(modalId);\r\n  if (modal) {\r\n    modal.classList.remove('is-open');\r\n\r\n    // If closing rating modal, re-open exercise modal\r\n    if (modalId === 'rating-modal') {\r\n      openModal('exercise-modal');\r\n    }\r\n\r\n    // Only remove body class if no other modals are open\r\n    const anyModalOpen = document.querySelector('.modal.is-open');\r\n    if (!anyModalOpen) {\r\n      document.body.classList.remove('modal-open');\r\n    }\r\n  }\r\n}\r\n\r\nexport function showRatingModal() {\r\n  closeModal('exercise-modal');\r\n  openModal('rating-modal');\r\n  resetRatingForm();\r\n  initRatingStars();\r\n}\r\n\r\nexport function hideRatingModal() {\r\n  closeModal('rating-modal');\r\n}\r\n\r\nexport function renderExerciseModal(exercise) {\r\n  if (!exercise) return;\r\n\r\n  const gifElement = document.getElementById('modal-exercise-gif');\r\n  if (gifElement) {\r\n    gifElement.src = exercise.gifUrl || '';\r\n    gifElement.alt = exercise.name || 'Exercise';\r\n  }\r\n\r\n  const titleElement = document.getElementById('modal-exercise-title');\r\n  if (titleElement) {\r\n    titleElement.textContent = exercise.name || 'Exercise';\r\n  }\r\n\r\n  const ratingElement = document.getElementById('modal-exercise-rating');\r\n  if (ratingElement) {\r\n    const rating = exercise.rating || 0;\r\n    const fullStars = Math.floor(rating);\r\n\r\n    ratingElement.innerHTML = `\r\n      <span class=\"modal__rating-value\">${rating.toFixed(1)}</span>\r\n      <div class=\"modal__rating-stars\">\r\n        ${Array.from({ length: 5 }, (_, i) => {\r\n          const filled = i < fullStars ? 'modal__star--filled' : '';\r\n          return `<svg class=\"modal__star ${filled}\" width=\"18\" height=\"18\" aria-hidden=\"true\">\r\n            <use href=\"/img/sprite.svg#icon-star\"></use>\r\n          </svg>`;\r\n        }).join('')}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  const targetElement = document.getElementById('modal-target');\r\n  if (targetElement) targetElement.textContent = exercise.target || 'N/A';\r\n\r\n  const bodyPartElement = document.getElementById('modal-bodypart');\r\n  if (bodyPartElement) bodyPartElement.textContent = exercise.bodyPart || 'N/A';\r\n\r\n  const equipmentElement = document.getElementById('modal-equipment');\r\n  if (equipmentElement) equipmentElement.textContent = exercise.equipment || 'N/A';\r\n\r\n  const popularElement = document.getElementById('modal-popular');\r\n  if (popularElement) popularElement.textContent = exercise.popularity || '0';\r\n\r\n  const caloriesElement = document.getElementById('modal-calories');\r\n  if (caloriesElement) {\r\n    caloriesElement.textContent = `${exercise.burnedCalories || 0}/${exercise.time || 0} min`;\r\n  }\r\n\r\n  const descriptionElement = document.getElementById('modal-description');\r\n  if (descriptionElement) {\r\n    descriptionElement.textContent = exercise.description || 'No description available.';\r\n  }\r\n\r\n  const modal = document.getElementById('exercise-modal');\r\n  if (modal) {\r\n    modal.dataset.exerciseId = exercise._id;\r\n  }\r\n}\r\n\r\nfunction resetRatingForm() {\r\n  const ratingForm = document.getElementById('rating-form');\r\n  const ratingValue = document.getElementById('rating-display-value');\r\n\r\n  if (ratingForm) ratingForm.reset();\r\n  if (ratingValue) ratingValue.textContent = '0.0';\r\n}\r\n\r\nfunction initRatingStars() {\r\n  const starsContainer = document.getElementById('rating-stars');\r\n  const ratingValue = document.getElementById('rating-display-value');\r\n\r\n  if (!starsContainer) return;\r\n\r\n  if (starsContainer.dataset.listenerAttached === 'true') return;\r\n  starsContainer.dataset.listenerAttached = 'true';\r\n\r\n  starsContainer.addEventListener('change', e => {\r\n    if (e.target.type === 'radio') {\r\n      const selectedRating = parseFloat(e.target.value);\r\n      if (ratingValue) {\r\n        ratingValue.textContent = selectedRating.toFixed(1);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n\r\n\r\nexport function getCurrentRating() {\r\n  const checkedRadio = document.querySelector('#rating-stars input[name=\"rating\"]:checked');\r\n  return checkedRadio ? parseFloat(checkedRadio.value) : 0;\r\n}\r\n","const FAVORITES_KEY = 'favoriteExercises';\r\n\r\nexport function getFavorites() {\r\n  try {\r\n    const favorites = localStorage.getItem(FAVORITES_KEY);\r\n    return favorites ? JSON.parse(favorites) : [];\r\n  } catch (err) {\r\n    console.error('Failed to get favorites:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport function addFavorite(exercise) {\r\n  try {\r\n    const favorites = getFavorites();\r\n\r\n    if (favorites.some(fav => fav._id === exercise._id)) {\r\n      return false;\r\n    }\r\n\r\n    favorites.push(exercise);\r\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));\r\n    return true;\r\n  } catch (err) {\r\n    console.error('Failed to add favorite:', err);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function removeFavorite(exerciseId) {\r\n  try {\r\n    const favorites = getFavorites();\r\n    const filtered = favorites.filter(fav => fav._id !== exerciseId);\r\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify(filtered));\r\n    return true;\r\n  } catch (err) {\r\n    console.error('Failed to remove favorite:', err);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function isFavorite(exerciseId) {\r\n  const favorites = getFavorites();\r\n  return favorites.some(fav => fav._id === exerciseId);\r\n}\r\n\r\nexport function toggleFavorite(exercise) {\r\n  if (isFavorite(exercise._id)) {\r\n    return removeFavorite(exercise._id);\r\n  } else {\r\n    return addFavorite(exercise);\r\n  }\r\n}\r\n","import { getQuote } from '../core/api.js';\r\n\r\nconst QUOTE_KEY = 'dailyQuote';\r\nconst QUOTE_DATE_KEY = 'dailyQuoteDate';\r\n\r\nfunction getTodayDateString() {\r\n  return new Date().toDateString();\r\n}\r\n\r\nfunction getCachedQuote() {\r\n  const cachedDate = localStorage.getItem(QUOTE_DATE_KEY);\r\n  const today = getTodayDateString();\r\n\r\n  if (cachedDate === today) {\r\n    try {\r\n      const cached = localStorage.getItem(QUOTE_KEY);\r\n      return cached ? JSON.parse(cached) : null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction cacheQuote(quoteData) {\r\n  try {\r\n    localStorage.setItem(QUOTE_KEY, JSON.stringify(quoteData));\r\n    localStorage.setItem(QUOTE_DATE_KEY, getTodayDateString());\r\n  } catch (err) {\r\n    console.warn('Failed to cache quote:', err);\r\n  }\r\n}\r\n\r\nfunction renderQuote(quoteData) {\r\n  const quoteText = document.getElementById('quote-text');\r\n  const quoteAuthor = document.getElementById('quote-author');\r\n\r\n  if (quoteText && quoteData.quote) {\r\n    quoteText.textContent = quoteData.quote;\r\n  }\r\n  if (quoteAuthor && quoteData.author) {\r\n    quoteAuthor.textContent = quoteData.author;\r\n  }\r\n}\r\n\r\nexport async function initQuote() {\r\n  const cached = getCachedQuote();\r\n\r\n  if (cached) {\r\n    renderQuote(cached);\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const quoteData = await getQuote();\r\n    cacheQuote(quoteData);\r\n    renderQuote(quoteData);\r\n  } catch (err) {\r\n    console.error('Failed to fetch quote:', err);\r\n  }\r\n}\r\n","export function getItemsLimit(view) {\r\n  const width = window.innerWidth;\r\n\r\n  if (view === 'categories') {\r\n    return width < 768 ? 9 : 12;\r\n  } else {\r\n    return width < 768 ? 8 : 10;\r\n  }\r\n}\r\n\r\nexport function getPerPage() {\r\n  const width = window.innerWidth;\r\n  if (width >= 1440) return Infinity;\r\n  if (width >= 768) return 10;\r\n  return 8;\r\n}\r\n\r\nexport function usePagination() {\r\n  return window.innerWidth < 1440;\r\n}\r\n\r\nexport function setupResizeListener(callback) {\r\n  let timeoutId;\r\n  let currentValue = null;\r\n\r\n  const handler = () => {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => {\r\n      const newValue = callback();\r\n      if (newValue !== currentValue) {\r\n        currentValue = newValue;\r\n      }\r\n    }, 300);\r\n  };\r\n\r\n  window.addEventListener('resize', handler);\r\n\r\n  return () => window.removeEventListener('resize', handler);\r\n}\r\n","import { getFilters, getExercises, getExerciseById, updateRating } from '../core/api.js';\r\nimport { toast } from '../core/toast.js';\r\nimport { renderCategories, renderExercises } from '../ui/renderer.js';\r\nimport { renderPagination, setupPagination } from '../ui/pagination.js';\r\nimport { openModal, closeModal, renderExerciseModal, showRatingModal, hideRatingModal, getCurrentRating } from '../ui/modal.js';\r\nimport { addFavorite, removeFavorite, isFavorite } from '../services/favorites.js';\r\nimport { initQuote } from '../services/quote.js';\r\nimport { getItemsLimit } from '../utils/responsive.js';\r\n\r\nconst state = {\r\n  view: 'categories',\r\n  filter: 'Muscles',\r\n  category: null,\r\n  categoryFilter: null,\r\n  keyword: '',\r\n  page: 1,\r\n};\r\n\r\nfunction getLimit() {\r\n  return getItemsLimit(state.view);\r\n}\r\n\r\nasync function fetchAndRender() {\r\n  const container = document.getElementById('exercises-container');\r\n\r\n  try {\r\n    const limit = getLimit();\r\n\r\n    if (state.view === 'categories') {\r\n      const filters = await getFilters({\r\n        filter: state.filter,\r\n        page: state.page,\r\n        limit,\r\n      });\r\n      renderCategories(filters.results, 'exercises-container');\r\n      renderPagination(filters.page ? Number(filters.page) : 1, filters.totalPages || 1);\r\n    } else {\r\n      const params = { limit, page: state.page };\r\n\r\n      if (state.categoryFilter === 'Muscles') params.muscles = state.category.toLowerCase();\r\n      else if (state.categoryFilter === 'Body parts') params.bodypart = state.category.toLowerCase();\r\n      else if (state.categoryFilter === 'Equipment') params.equipment = state.category.toLowerCase();\r\n\r\n      if (state.keyword) params.keyword = state.keyword;\r\n\r\n      const exercises = await getExercises(params);\r\n      renderExercises(exercises.results, 'exercises-container');\r\n      renderPagination(exercises.page ? Number(exercises.page) : 1, exercises.totalPages || 1);\r\n    }\r\n  } catch (err) {\r\n    console.error('Fetch error:', err);\r\n    if (container) container.innerHTML = '<p class=\"error-message\">Failed to load data. Please try again.</p>';\r\n  }\r\n}\r\n\r\nfunction handlePageChange(newPage) {\r\n  if (newPage && newPage !== state.page) {\r\n    state.page = newPage;\r\n    fetchAndRender();\r\n  }\r\n}\r\n\r\nfunction setupResizeListener() {\r\n  let timeoutId;\r\n  let currentLimit = getLimit();\r\n\r\n  window.addEventListener('resize', () => {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => {\r\n      const newLimit = getLimit();\r\n      if (newLimit !== currentLimit) {\r\n        currentLimit = newLimit;\r\n        state.page = 1;\r\n        fetchAndRender();\r\n      }\r\n    }, 300);\r\n  });\r\n}\r\n\r\nfunction setupFilterTabs() {\r\n  const filterTabs = document.getElementById('filter-tabs');\r\n  if (!filterTabs || filterTabs.dataset.listenerAttached === 'true') return;\r\n  filterTabs.dataset.listenerAttached = 'true';\r\n\r\n  filterTabs.addEventListener('click', async e => {\r\n    const btn = e.target.closest('.tabs__btn');\r\n    if (!btn) return;\r\n\r\n    document.querySelectorAll('.tabs__btn').forEach(t => {\r\n      t.classList.remove('tabs__btn--active');\r\n      t.setAttribute('aria-selected', 'false');\r\n    });\r\n    btn.classList.add('tabs__btn--active');\r\n    btn.setAttribute('aria-selected', 'true');\r\n\r\n    state.filter = btn.dataset.filter;\r\n    state.view = 'categories';\r\n    state.page = 1;\r\n    state.keyword = '';\r\n    state.category = null;\r\n\r\n    hideExercisesHeader();\r\n    await fetchAndRender();\r\n  });\r\n}\r\n\r\nfunction showExercisesHeader(categoryName) {\r\n  const sectionTitle = document.getElementById('section-title');\r\n  const searchForm = document.getElementById('exercise-search-form');\r\n\r\n  if (sectionTitle) {\r\n    sectionTitle.innerHTML = `Exercises / <span class=\"filters__category-name\">${categoryName}</span>`;\r\n  }\r\n  if (searchForm) {\r\n    searchForm.classList.remove('is-hidden');\r\n  }\r\n}\r\n\r\nfunction hideExercisesHeader() {\r\n  const sectionTitle = document.getElementById('section-title');\r\n  const searchForm = document.getElementById('exercise-search-form');\r\n  const searchInput = document.getElementById('exercise-search-input');\r\n  const clearBtn = document.getElementById('exercise-clear-btn');\r\n\r\n  if (sectionTitle) sectionTitle.textContent = 'Exercises';\r\n  if (searchForm) searchForm.classList.add('is-hidden');\r\n  if (searchInput) searchInput.value = '';\r\n  if (clearBtn) clearBtn.classList.add('is-hidden');\r\n}\r\n\r\nfunction setupExerciseSearch() {\r\n  const searchForm = document.getElementById('exercise-search-form');\r\n  const searchInput = document.getElementById('exercise-search-input');\r\n  const clearBtn = document.getElementById('exercise-clear-btn');\r\n\r\n  if (!searchForm || !searchInput || searchForm.dataset.listenerAttached === 'true') return;\r\n  searchForm.dataset.listenerAttached = 'true';\r\n\r\n  searchInput.addEventListener('input', () => {\r\n    clearBtn.classList.toggle('is-hidden', !searchInput.value.trim());\r\n  });\r\n\r\n  clearBtn.addEventListener('click', async () => {\r\n    searchInput.value = '';\r\n    clearBtn.classList.add('is-hidden');\r\n    searchInput.focus();\r\n    state.keyword = '';\r\n    state.page = 1;\r\n    await fetchAndRender();\r\n  });\r\n\r\n  searchForm.addEventListener('submit', async e => {\r\n    e.preventDefault();\r\n    state.keyword = searchInput.value.trim();\r\n    state.page = 1;\r\n    await fetchAndRender();\r\n  });\r\n}\r\n\r\nfunction setupExerciseModal(exerciseId) {\r\n  const closeBtn = document.getElementById('modal-close-btn');\r\n  if (closeBtn) {\r\n    closeBtn.onclick = () => closeModal('exercise-modal');\r\n  }\r\n\r\n  const giveRatingBtn = document.getElementById('give-rating-btn');\r\n  if (giveRatingBtn) {\r\n    giveRatingBtn.onclick = () => {\r\n      showRatingModal();\r\n      setupRatingModal(exerciseId);\r\n    };\r\n  }\r\n\r\n  const addToFavoritesBtn = document.getElementById('add-to-favorites-btn');\r\n  if (addToFavoritesBtn) {\r\n    const updateFavoriteButton = () => {\r\n      if (isFavorite(exerciseId)) {\r\n        addToFavoritesBtn.innerHTML = `\r\n          <span class=\"btn__text\">Remove from favorites</span>\r\n          <svg width=\"20\" height=\"20\" aria-hidden=\"true\">\r\n            <use href=\"/img/sprite.svg#icon-trash\"></use>\r\n          </svg>\r\n        `;\r\n      } else {\r\n        addToFavoritesBtn.innerHTML = `\r\n          <span class=\"btn__text\">Add to favorites</span>\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" aria-hidden=\"true\">\r\n            <path d=\"M10 3.5C10 3.5 6.5 1 3.5 3.5C0.5 6 2 10 10 16.5C18 10 19.5 6 16.5 3.5C13.5 1 10 3.5 10 3.5Z\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\r\n          </svg>\r\n        `;\r\n      }\r\n    };\r\n\r\n    addToFavoritesBtn.onclick = async () => {\r\n      if (isFavorite(exerciseId)) {\r\n        removeFavorite(exerciseId);\r\n      } else {\r\n        const exercise = await getExerciseById(exerciseId);\r\n        addFavorite(exercise);\r\n      }\r\n      updateFavoriteButton();\r\n    };\r\n\r\n    updateFavoriteButton();\r\n  }\r\n}\r\n\r\nfunction setupRatingModal(exerciseId) {\r\n  const closeBtn = document.getElementById('rating-modal-close-btn');\r\n  if (closeBtn) {\r\n    closeBtn.onclick = () => hideRatingModal();\r\n  }\r\n\r\n  const ratingForm = document.getElementById('rating-form');\r\n  if (ratingForm) {\r\n    ratingForm.onsubmit = async e => {\r\n      e.preventDefault();\r\n\r\n      if (!ratingForm.checkValidity()) {\r\n        ratingForm.reportValidity();\r\n        return;\r\n      }\r\n\r\n      const rating = getCurrentRating();\r\n      const email = ratingForm.email.value.trim();\r\n      const review = ratingForm.review?.value.trim() || '';\r\n\r\n      try {\r\n        await updateRating(exerciseId, rating, email, review);\r\n        hideRatingModal();\r\n        toast.success('Rating submitted successfully!');\r\n      } catch (err) {\r\n        console.error('Failed to submit rating:', err);\r\n      }\r\n    };\r\n  }\r\n}\r\n\r\nfunction setupExerciseCards() {\r\n  const container = document.getElementById('exercises-container');\r\n  if (!container || container.dataset.listenerAttached === 'true') return;\r\n  container.dataset.listenerAttached = 'true';\r\n\r\n  container.addEventListener('click', async e => {\r\n    const categoryCard = e.target.closest('.category-card');\r\n    if (categoryCard) {\r\n      e.preventDefault();\r\n      const categoryName = categoryCard.dataset.name;\r\n      const categoryFilter = categoryCard.dataset.filter;\r\n\r\n      if (!categoryName) return;\r\n\r\n      state.view = 'exercises';\r\n      state.category = categoryName;\r\n      state.categoryFilter = categoryFilter;\r\n      state.page = 1;\r\n      state.keyword = '';\r\n\r\n      showExercisesHeader(categoryName);\r\n      setupExerciseSearch();\r\n      await fetchAndRender();\r\n      return;\r\n    }\r\n\r\n    const startBtn = e.target.closest('.exercise-card__start');\r\n    if (startBtn) {\r\n      const exerciseId = startBtn.dataset.id;\r\n      if (!exerciseId) return;\r\n\r\n      try {\r\n        const exercise = await getExerciseById(exerciseId);\r\n        renderExerciseModal(exercise);\r\n        openModal('exercise-modal');\r\n        setupExerciseModal(exerciseId);\r\n      } catch (err) {\r\n        console.error(`Failed to fetch exercise details for ${exerciseId}:`, err);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nexport async function initHomePage() {\r\n  const mainContent = document.querySelector('.layout');\r\n\r\n  try {\r\n    await initQuote();\r\n    await fetchAndRender();\r\n  } catch (err) {\r\n    console.error('Error initializing home page:', err);\r\n  } finally {\r\n    if (mainContent) {\r\n      mainContent.classList.add('loaded');\r\n    }\r\n  }\r\n\r\n  setupFilterTabs();\r\n  setupExerciseCards();\r\n  setupPagination(handlePageChange);\r\n  setupResizeListener();\r\n}\r\n","import { getExerciseById, updateRating } from '../core/api.js';\r\nimport { toast } from '../core/toast.js';\r\nimport { renderFavoritesList } from '../ui/renderer.js';\r\nimport { renderPagination, setupPagination } from '../ui/pagination.js';\r\nimport { openModal, closeModal, renderExerciseModal, showRatingModal, hideRatingModal, getCurrentRating } from '../ui/modal.js';\r\nimport { getFavorites, removeFavorite } from '../services/favorites.js';\r\nimport { initQuote } from '../services/quote.js';\r\nimport { getPerPage, usePagination } from '../utils/responsive.js';\r\n\r\nconst state = {\r\n  page: 1,\r\n};\r\n\r\nfunction renderFavorites() {\r\n  const container = document.getElementById('favorites-container');\r\n  if (!container) return;\r\n\r\n  const allFavorites = getFavorites();\r\n\r\n  if (allFavorites.length === 0) {\r\n    renderFavoritesList([], 'favorites-container');\r\n    renderPagination(1, 1, 'favorites-pagination');\r\n    return;\r\n  }\r\n\r\n  const perPage = getPerPage();\r\n  const shouldPaginate = usePagination();\r\n  const totalPages = shouldPaginate ? Math.ceil(allFavorites.length / perPage) : 1;\r\n\r\n  if (state.page > totalPages) {\r\n    state.page = totalPages;\r\n  }\r\n\r\n  const startIndex = shouldPaginate ? (state.page - 1) * perPage : 0;\r\n  const endIndex = shouldPaginate ? startIndex + perPage : allFavorites.length;\r\n  const favorites = allFavorites.slice(startIndex, endIndex);\r\n\r\n  renderFavoritesList(favorites, 'favorites-container');\r\n\r\n  if (shouldPaginate) {\r\n    renderPagination(state.page, totalPages, 'favorites-pagination');\r\n  }\r\n}\r\n\r\nfunction handlePageChange(newPage) {\r\n  if (newPage && newPage !== state.page) {\r\n    state.page = newPage;\r\n    renderFavorites();\r\n  }\r\n}\r\n\r\nfunction setupResizeListener() {\r\n  let timeoutId;\r\n  let currentPerPage = getPerPage();\r\n\r\n  window.addEventListener('resize', () => {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => {\r\n      const newPerPage = getPerPage();\r\n      if (newPerPage !== currentPerPage) {\r\n        currentPerPage = newPerPage;\r\n        state.page = 1;\r\n        renderFavorites();\r\n      }\r\n    }, 300);\r\n  });\r\n}\r\n\r\nfunction setupExerciseModal(exerciseId) {\r\n  const closeBtn = document.getElementById('modal-close-btn');\r\n  if (closeBtn) {\r\n    closeBtn.onclick = () => closeModal('exercise-modal');\r\n  }\r\n\r\n  const giveRatingBtn = document.getElementById('give-rating-btn');\r\n  if (giveRatingBtn) {\r\n    giveRatingBtn.onclick = () => {\r\n      showRatingModal();\r\n      setupRatingModal(exerciseId);\r\n    };\r\n  }\r\n\r\n  const addToFavoritesBtn = document.getElementById('add-to-favorites-btn');\r\n  if (addToFavoritesBtn) {\r\n    addToFavoritesBtn.innerHTML = `\r\n      <span class=\"btn__text\">Remove from favorites</span>\r\n      <svg width=\"20\" height=\"20\" aria-hidden=\"true\">\r\n        <use href=\"/img/sprite.svg#icon-trash\"></use>\r\n      </svg>\r\n    `;\r\n\r\n    addToFavoritesBtn.onclick = () => {\r\n      removeFavorite(exerciseId);\r\n      closeModal('exercise-modal');\r\n      renderFavorites();\r\n    };\r\n  }\r\n}\r\n\r\nfunction setupRatingModal(exerciseId) {\r\n  const closeBtn = document.getElementById('rating-modal-close-btn');\r\n  if (closeBtn) {\r\n    closeBtn.onclick = () => hideRatingModal();\r\n  }\r\n\r\n  const ratingForm = document.getElementById('rating-form');\r\n  if (ratingForm) {\r\n    ratingForm.onsubmit = async e => {\r\n      e.preventDefault();\r\n\r\n      if (!ratingForm.checkValidity()) {\r\n        ratingForm.reportValidity();\r\n        return;\r\n      }\r\n\r\n      const rating = getCurrentRating();\r\n      const email = ratingForm.email.value.trim();\r\n      const review = ratingForm.review?.value.trim() || '';\r\n\r\n      try {\r\n        await updateRating(exerciseId, rating, email, review);\r\n        hideRatingModal();\r\n        toast.success('Rating submitted successfully!');\r\n      } catch (err) {\r\n        console.error('Failed to submit rating:', err);\r\n      }\r\n    };\r\n  }\r\n}\r\n\r\nfunction setupEventDelegation() {\r\n  const container = document.getElementById('favorites-container');\r\n  if (!container || container.dataset.listenerAttached === 'true') return;\r\n  container.dataset.listenerAttached = 'true';\r\n\r\n  container.addEventListener('click', async e => {\r\n    const deleteBtn = e.target.closest('.exercise-card__delete-btn');\r\n    if (deleteBtn) {\r\n      e.stopPropagation();\r\n      const exerciseId = deleteBtn.dataset.id;\r\n      if (exerciseId) {\r\n        removeFavorite(exerciseId);\r\n        renderFavorites();\r\n      }\r\n      return;\r\n    }\r\n\r\n    const startBtn = e.target.closest('.exercise-card__start');\r\n    if (startBtn) {\r\n      e.stopPropagation();\r\n      const exerciseId = startBtn.dataset.id;\r\n      if (!exerciseId) return;\r\n\r\n      try {\r\n        const exercise = await getExerciseById(exerciseId);\r\n        renderExerciseModal(exercise);\r\n        openModal('exercise-modal');\r\n        setupExerciseModal(exerciseId);\r\n      } catch (err) {\r\n        console.error('Failed to fetch exercise details:', err);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nexport async function initFavoritesPage() {\r\n  const favoritesPage = document.querySelector('.page--favorites');\r\n\r\n  try {\r\n    await initQuote();\r\n    renderFavorites();\r\n    setupEventDelegation();\r\n    setupPagination(handlePageChange, 'favorites-pagination');\r\n    setupResizeListener();\r\n  } catch (err) {\r\n    console.error('Error initializing favorites page:', err);\r\n  } finally {\r\n    if (favoritesPage) favoritesPage.classList.add('loaded');\r\n  }\r\n}\r\n","function setupBurgerMenu() {\r\n  const burgerBtn = document.getElementById('burger-btn');\r\n  const mobileMenu = document.getElementById('mobile-menu');\r\n  const mobileCloseBtn = document.getElementById('mobile-close-btn');\r\n  const backdrop = mobileMenu?.querySelector('.mobile-menu__backdrop');\r\n\r\n  if (!burgerBtn || !mobileMenu || !mobileCloseBtn) return;\r\n\r\n  const openMenu = () => {\r\n    mobileMenu.classList.add('is-open');\r\n    document.body.style.overflow = 'hidden';\r\n    burgerBtn.setAttribute('aria-expanded', 'true');\r\n  };\r\n\r\n  const closeMenu = () => {\r\n    mobileMenu.classList.remove('is-open');\r\n    document.body.style.overflow = '';\r\n    burgerBtn.setAttribute('aria-expanded', 'false');\r\n  };\r\n\r\n  burgerBtn.addEventListener('click', openMenu);\r\n  mobileCloseBtn.addEventListener('click', closeMenu);\r\n\r\n  if (backdrop) {\r\n    backdrop.addEventListener('click', closeMenu);\r\n  }\r\n\r\n  document.addEventListener('keydown', e => {\r\n    if (e.key === 'Escape' && mobileMenu.classList.contains('is-open')) {\r\n      closeMenu();\r\n    }\r\n  });\r\n\r\n  const mobileNavLinks = mobileMenu.querySelectorAll('.mobile-menu__nav-link');\r\n  mobileNavLinks.forEach(link => {\r\n    link.addEventListener('click', closeMenu);\r\n  });\r\n}\r\n\r\nfunction normalizePathname(pathname) {\n  let normalized = pathname;\n\n  if (normalized.endsWith('/index.html')) {\n    normalized = normalized.slice(0, -'/index.html'.length);\n  }\n\n  normalized = normalized.replace(/\\/+$/, '');\n\n  return normalized || '/';\n}\n\nfunction getBaseUrl() {\n  const { origin, pathname } = window.location;\n\n  if (pathname.endsWith('/')) {\n    return `${origin}${pathname}`;\n  }\n\n  const lastSegment = pathname.split('/').pop() || '';\n\n  if (lastSegment.includes('.')) {\n    const basePath = pathname.slice(0, pathname.lastIndexOf('/') + 1);\n    return `${origin}${basePath}`;\n  }\n\n  return `${origin}${pathname}/`;\n}\n\nfunction setActiveNavLink() {\n  const currentUrl = new URL(window.location.href);\n  const baseUrl = getBaseUrl();\n  const currentPath = normalizePathname(currentUrl.pathname);\n  const navLinks = document.querySelectorAll('.nav__link, .mobile-menu__nav-link');\n\n  navLinks.forEach(link => {\n    const href = link.getAttribute('href');\n    if (!href) return;\n\n    const linkUrl = new URL(href, baseUrl);\n    const linkPath = normalizePathname(linkUrl.pathname);\n    const isActive = currentPath === linkPath;\n    const parentItem = link.closest('.nav__item, .mobile-menu__item');\n    const isDesktopLink = link.classList.contains('nav__link');\n    const activeLinkClass = isDesktopLink ? 'nav__link--active' : 'mobile-menu__nav-link--active';\n    const activeItemClass = isDesktopLink ? 'nav__item--active' : 'mobile-menu__item--active';\n\n    if (isActive) {\n      link.classList.add('active', activeLinkClass);\n      link.setAttribute('aria-current', 'page');\n      if (parentItem) parentItem.classList.add('active', activeItemClass);\n    } else {\n      link.classList.remove('active', activeLinkClass);\n      link.removeAttribute('aria-current');\n      if (parentItem) parentItem.classList.remove('active', activeItemClass);\n    }\n  });\n}\n\r\nexport function initNav() {\r\n  setupBurgerMenu();\r\n  setActiveNavLink();\r\n}\r\n","import { initHomePage } from './js/pages/home.js';\nimport { initFavoritesPage } from './js/pages/favorites.js';\nimport { subscribe } from './js/core/api.js';\nimport { toast } from './js/core/toast.js';\nimport { initNav } from './js/ui/nav.js';\n\nfunction setupSubscription() {\n  const subForm = document.getElementById('subscription-form');\n  if (!subForm) return;\n\n  subForm.addEventListener('submit', async e => {\n    e.preventDefault();\n    const email = subForm.email.value;\n    try {\n      await subscribe(email);\n      toast.success('Successfully subscribed!');\n      subForm.reset();\n    } catch {\n      // Error toast is shown by API interceptor\n    }\n  });\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initNav();\n  setupSubscription();\n\n  const isHomePage = document.getElementById('exercises-container');\n  const isFavoritesPage = document.getElementById('favorites-container');\n\n  if (isHomePage && !isFavoritesPage) {\n    initHomePage();\n  }\n\n  if (isFavoritesPage) {\n    initFavoritesPage();\n  }\n});\n"],"names":["defaultOptions","toast","message","iziToast","BASE_URL","api","axios","errorMessages","response","error","status","_a","getQuote","data","getFilters","filter","page","limit","getExercises","bodypart","muscles","equipment","keyword","params","getExerciseById","id","updateRating","rating","email","review","body","subscribe","exerciseCardTemplate","categoryCardTemplate","favoritesEmptyTemplate","paginationTemplate","templates","loadTemplate","templateName","replacePlaceholders","template","_match","key","renderExercises","exercises","containerId","container","exercisesHtml","exercise","renderCategories","categories","categoriesHtml","cat","renderFavoritesList","favorites","emptyTemplate","cardsHtml","renderPagination","currentPage","totalPages","firstLink","prevLink","nextLink","lastLink","pagesContainer","updateLinkState","pagesHtml","generatePageNumbers","link","isDisabled","pages","i","start","end","setupPagination","onPageChange","e","newPage","openModal","modalId","modal","backdrop","closeModal","handleEscape","showRatingModal","resetRatingForm","initRatingStars","hideRatingModal","renderExerciseModal","gifElement","titleElement","ratingElement","fullStars","_","targetElement","bodyPartElement","equipmentElement","popularElement","caloriesElement","descriptionElement","ratingForm","ratingValue","starsContainer","selectedRating","getCurrentRating","checkedRadio","FAVORITES_KEY","getFavorites","err","addFavorite","fav","removeFavorite","exerciseId","filtered","isFavorite","QUOTE_KEY","QUOTE_DATE_KEY","getTodayDateString","getCachedQuote","cachedDate","today","cached","cacheQuote","quoteData","renderQuote","quoteText","quoteAuthor","initQuote","getItemsLimit","view","width","getPerPage","usePagination","state","getLimit","fetchAndRender","filters","handlePageChange","setupResizeListener","timeoutId","currentLimit","newLimit","setupFilterTabs","filterTabs","btn","t","hideExercisesHeader","showExercisesHeader","categoryName","sectionTitle","searchForm","searchInput","clearBtn","setupExerciseSearch","setupExerciseModal","closeBtn","giveRatingBtn","setupRatingModal","addToFavoritesBtn","updateFavoriteButton","setupExerciseCards","categoryCard","categoryFilter","startBtn","initHomePage","mainContent","renderFavorites","allFavorites","perPage","shouldPaginate","startIndex","endIndex","currentPerPage","newPerPage","setupEventDelegation","deleteBtn","initFavoritesPage","favoritesPage","setupBurgerMenu","burgerBtn","mobileMenu","mobileCloseBtn","openMenu","closeMenu","normalizePathname","pathname","normalized","getBaseUrl","origin","basePath","setActiveNavLink","currentUrl","baseUrl","currentPath","href","linkUrl","linkPath","isActive","parentItem","isDesktopLink","activeLinkClass","activeItemClass","initNav","setupSubscription","subForm","isHomePage","isFavoritesPage"],"mappings":"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"}